<!DOCTYPE html>
<html>
<!--
    Exchange the line above for this to enable offline support
    <html manifest="manifest.appcache">

    Please make your homework before doing this:
        http://www.alistapart.com/articles/application-cache-is-a-douchebag/
        http://appcachefacts.info

    This might be necessary to set up on your server, to make sure
    files are updated when the appcache file itself is:
        https://github.com/robnyman/Firefox-OS-Boilerplate-App/blob/gh-pages/.htaccess
 -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <!-- <link rel="stylesheet" type="text/css" href="css/base.css"> -->
    <!-- <link rel="stylesheet" type="text/css" href="css/headers.css"> -->
    <!-- <link rel="stylesheet" type="text/css" href="css/buttons.css"> -->
    <!-- <link rel="stylesheet" type="text/css" href="css/toolbars.css"> -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <script src="js/jquery-1.7.2.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <script src="js/jquery.touchy.min.js"></script>


    <script type="text/javascript" src="js/app.js"></script>

    <title>Sticky</title>

    <script type="text/javascript" charset="utf-8">


    </script>

    <style>
    body {
    background: whitesmoke
    }
    #square {
    position: absolute;
    left: 50%;
    top: 50%;
    margin: -100px 0 0 -100px;
    width: 200px;
    height: 200px;
    color: deeppink;
    font: 700 32px sans-serif;
    text-align: center;
    line-height: 200px;
    border: 1px solid deeppink;
    background: url('images/ex-rocket.jpg');
    box-shadow: 0 0 10px black
    }
    .false #square {
    text-indent: -99999px;
    background: url(qr.png)
    }
    .touching {
    opacity: 0.8
    }
    </style>

</head>

<body>

    <div id="main" class="page">

      <div class="main-image-section">
        <h1>Sticky</h1>
        Image goes here
      </div>

      <div class="bottom-bar">
        <!-- <button class="take-photo-btn">Camera</button> -->
        <button class="pick-from-lib-btn">Gallery</button>
      </div>

    </div>

    <div id="canvas-area" class="page">

      <div class="top-bar">
        <button class="clear-btn pull-right">Clear</a>
      </div>
      <img src="images/ex-rocket.jpg" id="sticker" />
      <div id="square"></div>

      <input type="checkbox" id="draggable" checked="checked">
      <label for='draggable'>Draggable</label>
      <input type="checkbox" id="rotatable" checked="checked">
      <label for='rotatable'>Rotatable</label>
      <input type="checkbox" id="scalable" checked="checked">
      <label for='scalable'>Scalable</label>
      <script src='http://code.jquery.com/jquery-1.9.1.min.js'></script>
      <script src='js/jquery.touch.js'></script>
      <script>
              document.documentElement.className += "ontouchend" in document;
              var square = $('#square').touch();

              var setOptions = function(id) {
                  square.data('plugin_touch').options[id] = $("#" + id).prop("checked");
              };

              $('input').on('change', function() {
                  setOptions(this.id);
              });
          </script>

      <canvas id="canvas" width="300" height="300" ></canvas>



      <!-- place the photo on a canvas element-->
      <!-- <canvas id="myCanvas" width="200" height="100" style="border:1px solid #d3d3d3;">
        Your browser does not support the HTML5 canvas tag.
      </canvas>
      <canvas id="canvas2" width="200" height="100" style="border: 1px solid black"></canvas>

      <canvas id="canvas3" width="200" height="100" style="border: 1px solid black"></canvas> -->

      <!-- <div class="canvas">
        <div id="image-presenter"></div>
      </div> -->

      <div class="bottom-bar">
        <!-- this goes back to the main page -->
        <button class="startover-btn pull-left">New</button>

        <button class="stickers-btn pull-left">Stickers</button>

        <!-- this is a modal to save or share? or a slideup -->
        <button class="save-btn pull-right">Save/Share</button>
      </div>
    </div>

    <div id="stickers-screen" class="page">
      <!-- stickers go here and slideup/down-->
      <div class="top-bar">
        <button class="close-btn pull-right">Close</button>
      </div>
      <div class="main-section">
        <div class="row">
          <div class="col-xs-4">
            <div class="sticker sticker-1">
              sticker 1
            </div>
          </div>
          <div class="col-xs-4">
            <div class="sticker">
              sticker 2
            </div>
          </div>
          <div class="col-xs-4">
            <div class="sticker">
              sticker 3
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-4">
            <div class="sticker">
              sticker 1
            </div>
          </div>
          <div class="col-xs-4">
            <div class="sticker">
              sticker 2
            </div>
          </div>
          <div class="col-xs-4">
            <div class="sticker">
              sticker 3
            </div>
          </div>
        </div>
      </div>
      <div class="bottom-bar">
        <a class="btn-left"><</a>
        <a class="btn-right">></a>
      </div>
    </div>

    <script type="text/javascript" src="js/base.js"></script>
    <script type="text/javascript" src="js/webapp.js"></script>
    <script type="text/javascript" src="js/offline.js"></script>
    <!-- <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script> -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>

    <script type="text/javascript" src="js/moveSticker.js"></script>
    <script type="text/javascript" charset="utf-8">
      // Save/Share button
      var d_canvas = document.getElementById('canvas');
      var context = d_canvas.getContext('2d');

      $('.save-btn').click(function() {
          alert("tset");
          var $sticker = $('#square'),
              $canvas = $('#canvas');
          var sticker_x = $sticker.offset().left - $canvas.offset().left,
              sticker_y = $sticker.offset().top - $canvas.offset().top;

          context.drawImage(sticker, sticker_x, sticker_y);

          $sticker.hide();
          //$(this).attr('disabled', 'disabled');
      });
    </script>

    <!--
        Loosely based on fxosstub: https://github.com/Jaxo/fxosstub
    -->

</body>
</html>
